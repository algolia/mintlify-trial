---
title: Search methods
description: Search and browse indices for records and facet values.
---

## Search an index

Searches a single index and returns matching search results (hits).

This method lets you retrieve up to 1,000 hits.
If you need more, use the [`browse` operation](#browse-for-records) or increase the `paginatedLimitedTo` index setting.

[Access control list](https://www.algolia.com/doc/guides/security/api-keys/#access-control-list-acl) requirements: `search`

### Path parameters

| Name        | Type   | Required?             | Example              | Description                                         |
| :---------- | :----- | --------------------- | :------------------- | :-------------------------------------------------- |
| `indexName` | String | <Icon icon="check" /> | `ALGOLIA_INDEX_NAME` | Name of the index on which to perform the operation |

### Body

One of:

<AccordionGroup>
  <Accordion title="Search parameters as query string">
    #### `params`

    Search parameters as a URL-encoded query string.

    | Type   | Default |
    | :----- | :------ |
    | String | `""`    |
  </Accordion>

  <Accordion title="Search parameters as object">
    #### `advancedSyntax`

    Whether to support phrase matching and excluding words from search queries.
    Use the [`advancedSyntaxFeatures`](#advancedsyntaxfeatures) parameter to control which feature is supported.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `false` |

    #### `advancedSyntaxFeatures`

    This setting only has an effect if [`advancedSyntax`](#advancedsyntax) is `true`.
    It specifiesd the advanced search syntax features you want to support.

    - `exactPhrase`.
    Phrases in quotes must match exactly.
    For example, `sparkly blue "iPhone case"` only returns records with the exact string "iPhone case".

    - `excludeWords`.
    Query words prefixed with a `-` must not occur in a record.
    For example, `search -engine` matches records that contain "search" but not "engine".

    | Type             | Default                          |
    | :--------------- | :------------------------------- |
    | Array of strings | `["exactPhrase","excludeWords"]` |

    Available settings: `"exactPhrase"`, `"excludeWords"`.

    #### `allowTyposOnNumericTokens`

    Whether to allow typos on numbers in the search query.

    Turn off this setting to reduce the number of irrelevant matches when searching in large sets of similar numbers.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `true`  |

    #### `alternativesAsExact`

    Determine which plurals and synonyms should be considered an exact matches.

    By default, Algolia treats singular and plural forms of a word, and single-word synonyms, as [exact](/guides/managing-results/relevance-overview/in-depth/ranking-criteria/#exact) matches when searching.
    For example:

    - "swimsuit" and "swimsuits" are treated the same
    - "swimsuit" and "swimwear" are treated the same (if they are [synonyms](/guides/managing-results/optimize-search-results/adding-synonyms/#regular-synonyms)).
    - `ignorePlurals`. Plurals and similar declensions added by the `ignorePlurals` setting are considered exact matches.
    - `singleWordSynonym`. Single-word synonyms, such as "NY" = "NYC", are considered exact matches.
    - `multiWordsSynonym`. Multi-word synonyms, such as "NY" = "New York", are considered exact matches.

    | Type             | Default                          |
    | :--------------- | :------------------------------- |
    | Array of strings | `["ignorePlurals","singleWordSynonym"]` |

    Available settings: `"ignorePlurals"`, `"singleWordSynonym"`, `"multiWordsSynonym"`.

    #### `analytics`

    Whether this search will be included in Analytics.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `true`  |

    #### `aroundLatLng`

    Coordinates for the center of a circle, expressed as a comma-separated string of latitude and longitude.

    Only records included within a circle around this central location are included in the results.
    The radius of the circle is determined by the [`aroundRadius`](#aroundadius) and [`minimumAroundRadius`](#minimumaroundradius) settings.
    
    This parameter is ignored if you also specify [`insidePolygon`](#insidepolygon) or [`insideBoundingBox`](#insideboundingbox).

    | Type   | Default |
    | :----- | :------ |
    | String | `""`    |

    #### `aroundLatLngViaIP`

    Whether to obtain the coordinates from the request's IP address.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `false` |

    #### `aroundPrecision`

    Precision of a coordinate-based search in meters to group results with similar distances.

    The Geo ranking criterion considers all matches within the same range of distances to be equal.

    | Type                              | Default |
    | :-------------------------------- | :------ |
    | Integer or array of range objects | 10      |

    <Tabs>
        <Tab title="Integer">

        Distance in meters to group results by similar distances.

        For example, if you set `aroundPrecision` to 100,
        records within 100 meters of the central coordinate are considered to have the same distance.
        Records that are over 100 meters away are in another distance grouping.
        </Tab>
        <Tab title="Range objects">
            An array of JSON objects that define the boundaries of a range (in meters).
            The Geo ranking criterion considers all records within the range to be equal.

            - `from`: the lower boundary
            - `value`: the upper boundary.

            For example, if you set `aroundPrecision` to `[ {"from":0, "value":10}, {"from":10, "value":100} ]`, there are three distance groupings:
            up to 10&nbsp;meters from the central coordinate, from 10 to 100&nbsp;meters, and over 100&nbsp;meters.
        </Tab>
    </Tabs>

    #### `aroundRadius`

    Maximum radius for a search around a central location.

    This parameter works in combination with the [`aroundLatLng`](#aroundlatlng) and [`aroundLatLngViaIP`](#aroundlatlngviaip) parameters.
    The search radius is small if there are many hits close to the central coordinates.

    | Type                      | Default                                                                       |
    | :------------------------ | :---------------------------------------------------------------------------- |
    | Integer or string (`all`) | Determined automatically from the density of hits around the central location |

    #### `attributeCriteriaComputedByMinProximity`

    Whether the best matching attribute should be determined by minimum proximity.

    This setting only affects ranking if the Attribute ranking criterion comes before Proximity in the [`ranking`](#ranking) setting.
    If true, the best matching attribute is selected based on the minimum proximity of multiple matches.
    Otherwise, the best matching attribute is determined by the order in the `searchableAttributes` setting.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `false` |

    #### `attributesToHighlight`

    Attributes to highlight.

    By default, all searchable attributes are highlighted.
    Use `*` to highlight all attributes or use an empty array `[]` to turn off highlighting.
    Attribute names are case-sensitive.

    With highlighting, strings that match the search query are surrounded by HTML tags defined by [`highlightPreTag`](#highlighttretag) and [`highlightPostTag`](#highlightposttag).
    You can use this to visually highlight matching parts of a search query in your UI.

    For more information, see [Highlighting and snippeting](https://www.algolia.com/doc/guides/building-search-ui/ui-and-ux-patterns/highlighting-snippeting/js/).

    | Type             | Default |
    | :--------------- | :------ |
    | Array of strings | &nbsp;  |

    #### `attributesToRetrieve`

    Attributes to include in the API response.

    To reduce the size of your response, you can retrieve only some of the attributes.
    Attribute names are case-sensitive.

    - `*` retrieves all attributes, except attributes included in the [`customRanking`](#customranking) and `unretrievableAttribute`s settings.
    - To retrieve all attributes except a specific one, prefix the attribute with a dash and combine it with the `*`: `["*", "-ATTRIBUTE"]`.
    - The `objectID` attribute is always included.

    | Type             | Default |
    | :--------------- | :------ |
    | Array of strings | `["*"]` |

    #### `attributesToSnippet`

    Attributes for which to enable snippets.
    Attribute names are case-sensitive.

    Snippets provide additional context to matched words.
    If you enable snippets, they include 10 words, including the matched word.
    The matched word will also be wrapped by HTML tags for highlighting.
    You can adjust the number of words with the following notation: `ATTRIBUTE:NUMBER`, where `NUMBER` is the number of words to be extracted.

    | Type             | Default |
    | :--------------- | :------ |
    | Array of strings | `[]`    |

    #### `clickAnalytics`

    Whether to include a `queryID` attribute in the response.

    The query ID is a unique identifier for a search query and is required for tracking [click and conversion events](/guides/send-events/get-started).

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `false` |

    ### `customRanking`

    Attributes to use as [custom ranking](/guides/managing-results/must-do/custom-ranking).
    Attribute names are case-sensitive.

    The custom ranking attributes decide which items are shown first if the other ranking criteria are equal.

    Records with missing values for your selected custom ranking attributes are always sorted last.
    Boolean attributes are sorted based on their alphabetical order.

    Modifiers:

    - `asc("ATTRIBUTE")`. Sort the index by the values of an attribute, in ascending order.
    - `desc("ATTRIBUTE")`. Sort the index by the values of an attribute, in descending order.

    If you use two or more custom ranking attributes, [reduce the precision](/guides/managing-results/must-do/custom-ranking/how-to/controlling-custom-ranking-metrics-precision/) of your first attributes, or the other attributes will never be applied.

    | Type             | Default |
    | :--------------- | :------ |
    | Array of strings | `[]`    |

    #### `decompoundQuery`

    Whether to split compound words in the query into their building blocks.

    [Word segmentation](/guides/managing-results/optimize-search-results/handling-natural-languages-nlp/in-depth/language-specific-configurations/#splitting-compound-words) is supported for these languages:
    German, Dutch, Finnish, Swedish, and Norwegian.
    Decompounding doesn't work for words with non-spacing mark Unicode characters.
    For example, `Gartenstühle` won't be decompounded if the `ü `consists of `u` (U+0075) and `◌̈` (U+0308).

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `true`  |

    #### `disableExactOnAttributes`

    Searchable attributes for which you want to [turn off the Exact ranking criterion](/guides/managing-results/optimize-search-results/override-search-engine-defaults/in-depth/adjust-exact-settings/#turn-off-exact-for-some-attributes).
    Attribute names are case-sensitive.

    This can be useful for attributes with long values, where the likelihood of an exact match is high, such as product descriptions.
    Turning off the Exact ranking criterion for these attributes favors exact matching on other attributes.
    This reduces the impact of individual attributes with a lot of content on ranking.

    | Type             | Default |
    | :--------------- | :------ |
    | Array of strings | `[]`    |

    #### `disableTypoToleranceOnAttributes`

    Attributes for which you want to turn off [typo tolerance](/guides/managing-results/optimize-search-results/typo-tolerance).
    Attribute names are case-sensitive.

    Returning only exact matches can help when:

    - [Searching in hyphenated attributes](/guides/managing-results/optimize-search-results/typo-tolerance/how-to/how-to-search-in-hyphenated-attributes)
    - Reducing the number of matches when you have too many. This can happen with attributes that are long blocks of text, such as product descriptions.

    Consider alternatives such as `disableTypoToleranceOnWords` or adding synonyms if your attributes have intentional unusual spellings that might look like typos.
  
    | Type             | Default |
    | :--------------- | :------ |
    | Array of strings | `[]`    |

    #### `distinct`

    Determines how many records of a group are included in the search results.

    Records with the same value for the `attributeForDistinct` attribute are considered a group.
    The `distinct` setting controls how many members of the group are returned.
    This is useful for [deduplication and grouping](/guides/managing-results/refine-results/grouping/#introducing-algolias-distinct-feature).

    The `distinct` setting is ignored if `attributeForDistinct` isn't set.

    | Type               | Default |
    | :----------------- | :------ |
    | Boolean or integer | &nbsp;  |

    #### `enableABTest`

    Whether to enable A/B testing for this search.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `true`  |

    #### `enablePersonalization`

    Whether to enable Personalization.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `false` |

    #### `enableReRanking`

    Whether this search will use [Dynamic Re-Ranking](/guides/algolia-ai/dynamic-re-ranking).

    This setting only has an effect if you activated Dynamic Re-Ranking for this index in the Algolia dashboard.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `true`  |

    #### `enableRules`

    Whether to enable rules.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `true`  |

    #### `exactOnSingleWordQuery`

    Determines how the [Exact ranking criterion](/guides/managing-results/optimize-search-results/override-search-engine-defaults/in-depth/adjust-exact-settings/#turn-off-exact-for-some-attributes) is computed when the search query has only one word.

    - `attribute`. The Exact ranking criterion is 1 if the query word and attribute value are the same. For example, a search for "road" will match the value "road", but not "road trip".
    - `none`. The Exact ranking criterion is ignored on single-word searches.
    - `word.` The Exact ranking criterion is 1 if the query word is found in the attribute value. The query word must have at least 3 characters and must not be a stop word. Only exact matches will be highlighted, partial and prefix matches won't.

    | Type   | Default       |
    | :----- | :------------ |
    | String | `"attribute"` |

    Available settings: `"attribute"`, `"none"`, `"word"`.

    #### `facetFilters`

    Filter the search by facet values, so that only records with the same facet values are retrieved.

    **Prefer using the [`filters`](#filters) parameter, which supports all filter types and combinations with boolean operators.**

    - `[filter1, filter2]` is interpreted as `filter1 AND filter2`
    - `[[filter1, filter2], filter3]` is interpreted as `filter1 OR filter2 AND filter3`
    - `facet:-value` is interpreted as `NOT facet:value`.

    While it's best to avoid attributes that start with a `-`, you can still filter them by escaping with a backslash: `facet:\-value`.

    | Type                              | Default |
    | :-------------------------------- | :------ |
    | String or array of `facetFilters` | &nbsp;  |

    #### `facetingAfterDistinct`

    Whether faceting should be applied after deduplication with [`distinct`](#distinct).

    This leads to accurate facet counts when using faceting in combination with `distinct`.
    It's usually better to use `afterDistinct` modifiers in the `attributesForFaceting` setting, as `facetingAfterDistinct` only computes correct facet counts if all records have the same facet values for the `attributeForDistinct`.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `false` |

    #### `facets`

    Facets for which to retrieve facet values that match the search criteria and the number of matching facet values.

    To retrieve all facets, use the wildcard character `*`.
    For more information, see [Contextual facet values and counts](/guides/managing-results/refine-results/faceting/#contextual-facet-values-and-counts).

    | Type             | Default |
    | :--------------- | :------ |
    | Array of strings | `[]`    |

    #### `filters`

    Filter expression to only include items that match the filter criteria in the response.

    You can use these filter expressions:

    - **Numeric filters.** `<facet> <op> <number>`, where `<op>` is one of `<`, `<=`, `=`, `!=`, `>`, `>=`.
    - **Ranges.** `<facet>:<lower> TO <upper>` where `<lower>` and `<upper>` are the lower and upper limits of the range (inclusive).
    - **Facet filters.** `<facet>:<value>` where `<facet>` is a facet attribute (case-sensitive) and `<value>` a facet value.
    - **Tag filters.** `_tags:<value>` or just `<value>` (case-sensitive).
    - **Boolean filters.** `<facet>: true | false`.

    You can combine filters with `AND`, `OR`, and `NOT` operators with the following restrictions:

    - You can only combine filters of the same type with `OR`. **Not supported:** `facet:value OR num > 3`.
    - You can't use `NOT` with combinations of filters. **Not supported:** `NOT(facet:value OR facet:value)`.
    - You can't combine conjunctions (`AND`) with `OR`. **Not supported:** `facet:value OR (facet:value AND facet:value)`.
    
    Use quotes around your filters, if the facet attribute name or facet value has spaces, keywords (`OR`, `AND`, `NOT`), or quotes.
    If a facet attribute is an array, the filter matches if it matches at least one element of the array.

    For more information, see [Filtering](/guides/managing-results/refine-results/filtering).

    | Type   | Default |
    | :----- | :------ |
    | String | &nbsp;  |

    #### `getRankingInfo`

    Whether the search response should include detailed ranking information.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `false` |

    #### `highlightPostTag`

    HTML tag to insert after the highlighted parts in all highlighted results and snippets.

    | Type   | Default   |
    | :----- | :-------- |
    | String | `"</em>"` |

    #### `highlightPreTag`

    HTML tag to insert before the highlighted parts in all highlighted results and snippets.

    | Type   | Default  |
    | :----- | :------- |
    | String | `"<em>"` |

    #### `hitsPerPage`

    Number of hits per page: 1 to 1,000.

    | Type    | Default |
    | :------ | :------ |
    | Integer | 20      |

    #### `ignorePlurals`

    Treat singular, plurals, and other forms of declensions as equivalent.
    You should only use this feature for the languages used in your index.

    | Type                                                    | Default |
    | :------------------------------------------------------ | :------ |
    | Array of supported languages, boolean string, or string | `false` |

    <Tabs>
      <Tab title="Array of supported languages">
        ISO code for a supported language.

        Available settings: `af`, `ar`, `az`, `bg`, `bn`, `ca`, `cs`, `cy`, `da`, `de`, `el`, `en`, `eo`, `es`, `et`, `eu`, `fa`, `fi`, `fo`, `fr`, `ga`, `gl`, `he`, `hi`, `hu`, `hy`, `id`, `is`, `it`, `ja`, `ka`, `kk`, `ko`, `ku`, `ky`, `lt`, `lv`, `mi`, `mn`, `mr`, `ms`, `mt`, `nb`, `nl`, `no`, `ns`, `pl`, `ps`, `pt`, `pt-br`, `qu`, `ro`, `ru`, `sk`, `sq`, `sv`, `sw`, `ta`, `te`, `th`, `tl`, `tn`, `tr`, `tt`, `uk`, `ur`, `uz`, `zh`. 
      </Tab>
      <Tab title="Boolean string">
        Available settings: `"false"`, `"true"`.
      </Tab>
      <Tab title="Boolean">
        - If `true`, `ignorePlurals` is active for all languages included in [`queryLanguages`](#queryanguages), or for all supported languages, if `queryLanguges` is empty.
        - If `false`, singulars, plurals, and other declensions won't be considered equivalent.
      </Tab>
    </Tabs>

    #### `insideBoundingBox`

    Coordinates for a [rectangular area](/guides/managing-results/refine-results/geolocation/#filtering-inside-rectangular-or-polygonal-areas) in which to search.

    | Type                                     | Default |
    | :--------------------------------------- | :------ |
    | Array of bounding boxes, string, or null | &nbsp;  |

    <Tabs>
      <Tab title="Array of bounding boxes">
        You can provide multiple bounding boxes as nested arrays.

        Each bounding box is defined by the two opposite points of its diagonal, and expressed as latitude and longitude pairs:
        `[p1 lat, p1 long, p2 lat, p2 long]`.
      </Tab>
      <Tab title="String">
        &nbsp;
      </Tab>
      <Tab title="null">
        `null`
      </Tab>
    </Tabs>

    #### `insidePolygon`

    Coordinates of a polygon in which to search.

    Polygons are defined by 3 to 10,000 points.
    Each point is represented by its latitude and longitude.
    Provide multiple polygons as nested arrays.
    For more information, see [Filtering inside rectangular or polygonal areas](/guides/managing-results/refine-results/geolocation/#filtering-inside-rectangular-or-polygonal-areas).
    
    This parameter is ignored if you also specify [`insideBoundingBox`](#insideboundingbox).

    | Type                      | Default |
    | :------------------------ | :------ |
    | Array of numbers (double) | &nbsp;  |

    #### `keepDiacriticsOnCharacters`

    Characters for which diacritics should be preserved.

    By default, Algolia removes diacritics from letters.
    For example, `é` becomes `e`.
    If this causes issues in your search, you can specify characters that should keep their diacritics.

    | Type   | Default |
    | :----- | :------ |
    | String | `""`    |

    #### `length`

    Number of hits to retrieve (used in combination with [`offset`](#offset)).

    | Type                | Default |
    | :------------------ | :------ |
    | Integer (0 to 1000) | &nbsp;  |

    #### `maxValuesPerFacet`

    Maximum number of facet values to return for each facet.

    | Type                | Default |
    | :------------------ | :------ |
    | Integer (0 to 1000) | 100     |

    #### `minimumAroundRadius`

    Minimum radius (in meters) for a search around a location when [`aroundRadius`](#aroundadius) isn't set.

    | Type             | Default |
    | :--------------- | :------ |
    | Positive integer | &nbsp;  |

    #### `minProximity`

    Minimum proximity score for two matching words.

    This adjusts the [Proximity ranking criterion](/guides/managing-results/relevance-overview/in-depth/ranking-criteria/#proximity) by equally scoring matches that are farther apart.

    For example, if `minProximity` is 2, neighboring matches and matches with one word between them would have the same score.

    | Type             | Default |
    | :--------------- | :------ |
    | Integer (1 to 7) | 1       |

    #### `minWordSizefor1Typo`

    Minimum number of characters a word in the search query must contain to accept matches with [one typo](/guides/managing-results/optimize-search-results/typo-tolerance/in-depth/configuring-typo-tolerance/#configuring-word-length-for-typos).

    | Type    | Default |
    | :------ | :------ |
    | Integer | 4       |

    #### `minWordSizefor2Typos`

    Minimum number of characters a word in the search query must contain to accept matches with [two typos](/guides/managing-results/optimize-search-results/typo-tolerance/in-depth/configuring-typo-tolerance/#configuring-word-length-for-typos).

    | Type    | Default |
    | :------ | :------ |
    | Integer | 4       |

    #### `mode`

    Search mode the index will use to query for results.

    This setting only applies to indices, for which Algolia enabled NeuralSearch for you.

    | Type   | Default           |
    | :----- | :---------------- |
    | String | `"keywordSearch"` |

    Available settings: `"keywordSearch"`, `"neuralSearch"`.

    #### `naturalLanguages`

    ISO language codes that adjust settings that are useful for processing natural language queries (as opposed to keyword searches):

    - Sets [`removeStopWords`](#removestopwords) and [`ignorePlurals`](#ignoreplurals) to the list of provided languages
    - Sets [`removeWordsIfNoResults`](#removewordsifnoresults) to `allOptional`
    - Adds a `natural_language` attribute to [`ruleContexts`](#ruleontexts) and `analyticsTags`.

    | Type             | Default |
    | :--------------- | :------ |
    | Array of strings | `[]`    |

    Available settings: `af`, `ar`, `az`, `bg`, `bn`, `ca`, `cs`, `cy`, `da`, `de`, `el`, `en`, `eo`, `es`, `et`, `eu`, `fa`, `fi`, `fo`, `fr`, `ga`, `gl`, `he`, `hi`, `hu`, `hy`, `id`, `is`, `it`, `ja`, `ka`, `kk`, `ko`, `ku`, `ky`, `lt`, `lv`, `mi`, `mn`, `mr`, `ms`, `mt`, `nb`, `nl`, `no`, `ns`, `pl`, `ps`, `pt`, `pt-br`, `qu`, `ro`, `ru`, `sk`, `sq`, `sv`, `sw`, `ta`, `te`, `th`, `tl`, `tn`, `tr`, `tt`, `uk`, `ur`, `uz`, `zh`. 

    #### `numericFilters`

    Filter by numeric facets.

    **Prefer using the [`filters`](#filters) parameter, which supports all filter types and combinations with boolean operators.**

    You can use numeric comparison operators: `<`, `<=`, `=`, `!=`, `>`, `>=`.
    Comparisons are precise up to 3 decimals.
    You can also provide ranges: `facet:<lower> TO <upper>`.
    The range includes the lower and upper boundaries.
    
    The same combination rules apply as for [`facetFilters`](#facetfilters).

    | Type                                | Default |
    | :---------------------------------- | :------ |
    | String or array of `numericFilters` | &nbsp;  |

    #### `offset`

    Position of the first hit to retrieve.

    | Type    | Default |
    | :------ | :------ |
    | Integer | &nbsp;  |

    #### `optionalFilters`

    Filters to promote or demote records in the search results.

    Optional filters work like [`facetFilters`](#facetfilters), but they don't exclude records from the search results.
    Records that match the optional filter rank before records that don't match
     If you're using a negative filter `facet:-value`, matching records rank after records that don't match.

    - Optional filters don't work on virtual replicas
    - Optional filters are applied after sort-by attributes
    - Optional filters don't work with numeric attributes.

    | Type                                 | Default |
    | :-----------------------------=----- | :------ |
    | String or array of `optionalFilters` | &nbsp;  |

    #### `optionalWords`

    Words that should be considered optional when found in the query.

    By default, records must match all words in the search query to be included in the search results.

    Adding optional words can help to increase the number of search results by running an additional search query that doesn't include the optional words.
    For example, if the search query is "action video" and "video" is an optional word,
    Algolia runs two queries. One for "action video" and one for "action".
    Records that match all words are ranked higher.

    For a search query with 4 or more words and all its words are optional,
    the number of matched words required for a record to be included in the search results increases for every 1,000 records:

    - If `optionalWords` has less than 10 words, the required number of matched words increases by 1: results 1 to 1,000 require 1 matched word, results 1,001 to 2000 need 2 matched words.
    - If `optionalWords` has 10 or more words, the number of required matched words increases by the number of optional words dividied by 5 (rounded down). For example, with 18 optional words: results 1 to 1,000 require 1 matched word, results 1,001 to 2000 need 4 matched words.
    
    For more information, see [Creating a list of optional words](/guides/managing-results/optimize-search-results/empty-or-insufficient-results/#creating-a-list-of-optional-words).

    | Type                                      | Default |
    | :---------------------------------------- | :------ |
    | Array of `optionalWords`, string, or null | &nbsp;  |

    #### `page`

    Page of search results to retrieve.

    | Type         | Default |
    | :----------- | :------ |
    | Integer (0+) | 0       |

    #### `percentileComputation`

    Whether to include this search when calculating processing-time percentiles.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `true`  |

    #### `personalizationImpact`

    Impact that Personalization should have on this search.

    The higher this value is, the more Personalization determines the ranking compared to other factors.
    For more information, see [Understanding Personalization impact](/guides/personalization/classic-personalization/configuring-personalization/#understanding-personalization-impact).

    | Type               | Default |
    | :----------------- | :------ |
    | Integer (0 to 100) | 100     |

    #### `query`

    Search query.

    | Type   | Default |
    | :----- | :------ |
    | String | `""`    |

    #### `queryLanguages`

    Languages for language-specific query processing steps such as plurals, stop-word removal, and word-detection dictionaries.

    This setting sets a default list of languages used by the [`removeStopWords`](#removestopwords) and [`ignorePlurals`](#ignoreplurals) settings.
    This setting also sets a dictionary for word detection in the logogram-based [CJK](/guides/managing-results/optimize-search-results/handling-natural-languages-nlp/in-depth/normalization/#normalization-for-logogram-based-languages-cjk) languages.
    To support this, you must place the CJK language first.

    You should always specify a query language.
    If you don't specify an indexing language, Algolia uses all supported languages, or the languages you specified with the `ignorePlurals` or `removeStopWords` parameters.
    This can lead to unexpected search results.
    
    For more information, see [Language-specific configuration](/guides/managing-results/optimize-search-results/handling-natural-languages-nlp/in-depth/language-specific-configurations).

    | Type             | Default |
    | :--------------- | :------ |
    | Array of strings | `[]`    |

    Available settings: `af`, `ar`, `az`, `bg`, `bn`, `ca`, `cs`, `cy`, `da`, `de`, `el`, `en`, `eo`, `es`, `et`, `eu`, `fa`, `fi`, `fo`, `fr`, `ga`, `gl`, `he`, `hi`, `hu`, `hy`, `id`, `is`, `it`, `ja`, `ka`, `kk`, `ko`, `ku`, `ky`, `lt`, `lv`, `mi`, `mn`, `mr`, `ms`, `mt`, `nb`, `nl`, `no`, `ns`, `pl`, `ps`, `pt`, `pt-br`, `qu`, `ro`, `ru`, `sk`, `sq`, `sv`, `sw`, `ta`, `te`, `th`, `tl`, `tn`, `tr`, `tt`, `uk`, `ur`, `uz`, `zh`. 

    #### `queryType`

    Determines if and how query words are interpreted as prefixes.

    By default, only the last query word is treated as a prefix (`prefixLast`).
    To turn off prefix search, use `prefixNone`.
    Avoid `prefixAll`, which treats all query words as prefixes.
    This might lead to counterintuitive results and makes your search slower.

    For more information, see [Prefix search](/guides/managing-results/optimize-search-results/override-search-engine-defaults/in-depth/prefix-searching).

    | Type   | Default        |
    | :----- | :------------- |
    | String | `"prefixLast"` |

    Available settings: `"prefixLast"`, `"prefixNone"`, `"prefixAll"`.

    #### `ranking`

    By default, each entry corresponds to a [ranking criteria](/guides/managing-results/relevance-overview/in-depth/ranking-criteria).
    The tie-breaking algorithm sequentially applies each criterion in the order they're specified.
    If you configure a replica index for [sorting by an attribute](/guides/managing-results/refine-results/sorting/how-to/sort-by-attribute), you put the sorting attribute at the top of the list.

    Modifiers:

    - `asc("ATTRIBUTE")`. Sort the index by the values of an attribute, in ascending order.
    - `desc("ATTRIBUTE")`. Sort the index by the values of an attribute, in descending order.

    Before you modify the default setting, you should test your changes in the dashboard, and by A/B testing.

    | Type             | Default                                                                     |
    | :--------------- | :-------------------------------------------------------------------------- |
    | Array of strings | `["typo","geo","words","filters","proximity","attribute","exact","custom"]` |

    #### `relevancyStrictness`

    Relevancy threshold below which less relevant results aren't included in the results.

    You can only set `relevancyStrictness` on [virtual replica indices](/guides/managing-results/refine-results/sorting/in-depth/replicas/#what-are-virtual-replicas).
    Use this setting to strike a balance between the relevance and number of returned results.

    | Type    | Default |
    | :------ | :------ |
    | Integer | 100     |

    #### `removeStopWords`

    Removes stop words from the search query.

    Stop words are common words like articles, conjunctions, prepositions, or pronouns that have little or no meaning on their own.
    In English, "the", "a", or "and" are stop words.

    You should only use this feature for the languages used in your index.

    | Type                                    | Default |
    | :-------------------------------------- | :------ |
    | Array of supported languages or boolean | `false` |

    <Tabs>
      <Tab title="Array of supported languages">
        ISO code for a supported language.

        Available settings: `af`, `ar`, `az`, `bg`, `bn`, `ca`, `cs`, `cy`, `da`, `de`, `el`, `en`, `eo`, `es`, `et`, `eu`, `fa`, `fi`, `fo`, `fr`, `ga`, `gl`, `he`, `hi`, `hu`, `hy`, `id`, `is`, `it`, `ja`, `ka`, `kk`, `ko`, `ku`, `ky`, `lt`, `lv`, `mi`, `mn`, `mr`, `ms`, `mt`, `nb`, `nl`, `no`, `ns`, `pl`, `ps`, `pt`, `pt-br`, `qu`, `ro`, `ru`, `sk`, `sq`, `sv`, `sw`, `ta`, `te`, `th`, `tl`, `tn`, `tr`, `tt`, `uk`, `ur`, `uz`, `zh`. 
      </Tab>
      <Tab title="Boolean">
        &nbsp;
      </Tab>
    </Tabs>

    #### `removeWordsIfNoResults`

    Strategy for removing words from the query when it doesn't return any results. This helps to avoid returning empty search results.

    - `none`. No words are removed when a query doesn't return results.
    - `lastWords`. Treat the last (then second to last, then third to last) word as optional, until there are results or at most 5 words have been removed.
    - `firstWords`. Treat the first (then second, then third) word as optional, until there are results or at most 5 words have been removed.
    - `allOptional`. Treat all words as optional.

    For more information, see [Removing words to improve results](/guides/managing-results/optimize-search-results/empty-or-insufficient-results/in-depth/why-use-remove-words-if-no-results).

    | Type   | Default  |
    | :----- | :------- |
    | String | `"none"` |

    Available settings: `"allOptional"`, `"none"`, `"firstWords", `"lastWords"``.

    #### `renderingContent`

    Extra data that can be used in the search UI.

    You can use this to control aspects of your search UI, such as the order of facet names and values without changing your frontend code.

    | Type   | Default  |
    | :----- | :------- |
    | Object | &nbsp;   |

    <Tabs>
      <Tab title="renderingContent.facetOrdering">
        Order of facet names and facet values in your UI.

        | Type   | Default  |
        | :----- | :------- |
        | Object | &nbsp;   |

        <Tabs>
          <Tab title="renderingContent.facetOrdering.facets">
            Order of facet names.

            | Type   | Default  |
            | :----- | :------- |
            | Object | &nbsp;   |

            <Tabs>
              <Tab title="renderingContent.facetOrdering.facets.order">
                Explicit order of facets or facet values.

                This setting lets you always show specific facets or facet values at the top of the list.

                | Type             | Default  |
                | :--------------- | :------- |
                | Array of strings | &nbsp;   |
              </Tab>
            </Tabs>
          </Tab>
          <Tab title="renderingContent.facetOrdering.values">
            Order of facet values.
            One object for each facet.

            | Type   | Default  |
            | :----- | :------- |
            | Object | &nbsp;   |

            <Tabs>
              <Tab title="renderingContent.facetOrdering.facets.values.facet">
                | Type   | Default  |
                | :----- | :------- |
                | Object | &nbsp;   |

                <Tabs>
                  <Tab title="renderingContent.facetOrdering.facets.values.facet.hide">
                    Hide facet values.

                    | Type             | Default  |
                    | :--------------- | :------- |
                    | Array of strings | &nbsp;   |
                  </Tab>
                  <Tab title="renderingContent.facetOrdering.facets.values.facet.order">
                    Explicit order of facets or facet values.

                    This setting lets you always show specific facets or facet values at the top of the list.

                    | Type             | Default  |
                    | :--------------- | :------- |
                    | Array of strings | &nbsp;   |
                  </Tab>
                  <Tab title="renderingContent.facetOrdering.facets.values.facet.sortRemainingBy">
                    Order of facet values that aren't explicitly positioned with the order setting.

                    - `count`. Order remaining facet values by decreasing count. The count is the number of matching records containing this facet value.
                    - `alpha`. Sort facet values alphabetically.
                    - `hidden`. Don't show facet values that aren't explicitly positioned.

                    | Type   | Default  |
                    | :----- | :------- |
                    | String | &nbsp;   |

                    Available settings: `"alpha"`, `"count"`, `"hidden"`.
                  </Tab>
                </Tabs>
              </Tab>
            </Tabs>
          </Tab>
        </Tabs>
      </Tab>
      <Tab title="renderingContent.redirect">
        The redirect rule container.

        | Type   | Default  |
        | :----- | :------- |
        | Object | &nbsp;   |

        <Tabs>
          <Tab title="renderingContent.redirect.url">
            | Type   | Default  |
            | :----- | :------- |
            | String | &nbsp;   |
          </Tab>
        </Tabs>
      </Tab>
      <Tab title="renderingContent.widgets">
        Widgets returned from any rules that are applied to the current search.

        | Type   | Default  |
        | :----- | :------- |
        | Object | &nbsp;   |

        <Tabs>
          <Tab title="renderingContent.widgets.banners">
            Banners defined in the merchandising studio for the given search.

            | Type             | Default  |
            | :--------------- | :------- |
            | Array of objects | &nbsp;   |

            <Tabs>
              <Tab title="renderingContent.widgets.banners.image">
                Image of a search banner.

                | Type   | Default  |
                | :----- | :------- |
                | Object | &nbsp;   |

                <Tabs>
                  <Tab title="renderingContent.widgets.banners.image.title">
                    | Type   | Default  |
                    | :----- | :------- |
                    | String | &nbsp;   |
                  </Tab>
                  <Tab title="renderingContent.widgets.banners.image.urls">
                    | Type            | Default  |
                    | :-------------- | :------- |
                    | Array of objects | &nbsp;   |

                    <Tabs>
                      <Tab title="renderingContent.widgets.banners.image.urls.url">
                      | Type   | Default  |
                      | :----- | :------- |
                      | String | &nbsp;   |
                      </Tab>
                    </Tabs>
                  </Tab>
                </Tabs>
              </Tab>
              <Tab title="renderingContent.widgets.banners.link">
                Link for a banner defined in merchandising studio.

                | Type   | Default  |
                | :----- | :------- |
                | Object | &nbsp;   |
              </Tab>
            </Tabs>
          </Tab>
        </Tabs>
      </Tab>
    </Tabs>

    #### `replaceSynonymsInHighlight`

    Whether to replace a highlighted word with the matched synonym.

    By default, the original words are highlighted even if a synonym matches.
    For example, with `home` as a synonym for `house` and a search for `home`, records matching either "home" or "house" are included in the search results, and either "home" or "house" are highlighted.

    With `replaceSynonymsInHighlight` set to `true`, a search for `home` still matches the same records, but all occurrences of "house" are replaced by "home" in the highlighted response.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `false` |

    #### `reRankingApplyFilter`

    Restrict [Dynamic Re-Ranking](/guides/algolia-ai/dynamic-re-ranking) to records that match these filters.

    | Type                                             | Default |
    | :----------------------------------------------- | :------ |
    | Array of `reRankingApplyFilter`, string, or null | &nbsp;  |

    #### `responseFields`

    Properties to include in the API response of `search` and `browse` requests.

    By default, all response properties are included. To reduce the response size, you can select, which attributes should be included.

    You can't exclude these properties: `message`, `warning`, `cursor`, `serverUsed`, `indexUsed`, `abTestVariantID`, `parsedQuery`, or any property triggered by the [`getRankingInfo`](#getrankinginfo) parameter.

    Don't exclude properties that you might need in your search UI.

    | Type             | Default |
    | :--------------- | :------ |
    | Array of strings | `["*"]` |

    #### `restrictHighlightAndSnippetArrays`

    Whether to restrict highlighting and snippeting to items that at least partially matched the search query.
    By default, all items are highlighted and snippeted.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `false` |

    #### `restrictSearchableAttributes`

    Restricts a search to a subset of your searchable attributes.
    Attribute names are case-sensitive.

    | Type             | Default |
    | :--------------- | :------ |
    | Array of strings | `[]`    |

    #### `ruleContexts`

    Assigns a rule context to the search query.

    [Rule contexts](/guides/managing-results/rules/rules-overview/how-to/customize-search-results-by-platform/#whats-a-context) are strings that you can use to trigger matching rules.

    #### `semanticSearch`

    Settings for the semantic search part of NeuralSearch.
    Only used when [`mode`](#mode) is `neuralSearch`.

    | Type   | Default  |
    | :----- | :------- |
    | Object | &nbsp;   |

    <Tabs>
      <Tab title="semanticSearch.eventSources">
        | Type                     | Default |
        | :----------------------- | :------ |
        | Array of strings or null | &nbsp;  |
      </Tab>
    </Tabs>

    #### `similarQuery`

    Keywords to be used instead of the search query to conduct a more broader search.

    Using the `similarQuery` parameter changes other settings:

    - [`queryType`](#querytype) is set to `prefixNone`
    - [`removeStopWords`](#removestopwords) is set to `true`
    - `words` is set as the first ranking criterion
    - All remaining words are treated as [`optionalWords`](#optionalwords).

    Since the `similarQuery` is supposed to do a broad search, they usually return many results.
    Combine it with [`filters`](#filters) to narrow down the list of results.

    | Type   | Default  |
    | :----- | :------- |
    | String | `""`     |

    #### `snippetEllipsisText`

    String used as an ellipsis indicator when a snippet is truncated.

    | Type   | Default  |
    | :----- | :------- |
    | String | `"..."`  |

    #### `sortFacetValuesBy`

    Order in which to retrieve facet values.

    - `count`. Facet values are retrieved by decreasing count. The count is the number of matching records containing this facet value.
    - `alpha`. Retrieve facet values alphabetically.

    This setting doesn't influence how facet values are displayed in your UI (see [`renderingContent`](#renderingContent)).
    For more information, see [Facet display](https://www.algolia.com/doc/guides/building-search-ui/ui-and-ux-patterns/facet-display/js/).

    | Type   | Default    |
    | :----- | :--------- |
    | String | `"count"`  |

     Available settings: `"count"`, `"alpha"`.

     #### `sumOrFiltersScores`

     Whether to sum all filter scores.

    If true, all filter scores are summed.
    Otherwise, the maximum filter score is kept.
    For more information, see [Accumulating scores with `sumOrFiltersScores`](/guides/managing-results/refine-results/filtering/in-depth/filter-scoring/#accumulating-scores-with-sumorfiltersscores).

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `false` |

    #### `synonyms`

    Whether to take into account an index's synonyms for this search.

    | Type    | Default |
    | :------ | :------ |
    | Boolean | `true`  |

    #### `tagFilters`

    Filter the search by values of the special `_tags` attribute.

    **Prefer using the [`filters`](#filters) parameter, which supports all filter types and combinations with boolean operators.**

    Different from regular facets, `_tags` can only be used for filtering (including or excluding records)
    You won't get a facet count.
    The same combination and escaping rules apply as for [`facetFilters`](#facetfilters).

    | Type                            | Default |
    | :------------------------------ | :------ |
    | String or array of `tagFilters` | &nbsp;  |

    #### `typoTolerance`

    Whether typo tolerance is enabled and how it is applied.

    If typo tolerance is `true`,` min`, or `strict`, [word splitting and concatenation](/guides/managing-results/optimize-search-results/handling-natural-languages-nlp/in-depth/splitting-and-concatenation) are also active.

    | Type              | Default |
    | :---------------- | :------ |
    | String or boolean | `true`  |

    <Tabs>
        <Tab title="Boolean">
          Whether typo tolerance is active.
          If `true`, matches with typos are included in the search results and rank after exact matches.
        </Tab>
        <Tab title="String">
          - `min`. Return matches with the lowest number of typos. For example, if you have matches without typos, only include those. But if there are no matches without typos (with 1 typo), include matches with 1 typo (2 typos).
          - `strict`. Return matches with the two lowest numbers of typos. With `strict`, the Typo ranking criterion is applied first in the [`ranking`](#ranking) setting.

          Available settings: `"min"`, `"strict"`.
        </Tab>
    </Tabs>

    #### `userToken`

    Unique pseudonymous or anonymous user identifier.

    This helps with analytics and click and conversion events.
    For more information, see [User token](/guides/send-events/concepts/user-token).
  </Accordion>
</AccordionGroup> 

### Request samples

#### 

####

### Responses

#### Response samples

## Browse for records