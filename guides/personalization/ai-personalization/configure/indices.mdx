---
title: Configure indices to personalize
description:  Learn how to configure your indices for AI Personalization.
---

import Beta from '/snippets/personalization/beta.mdx';

<Beta />

## Select the index to personalize

The first step to configuring AI Personalization is to select the indices to enable personalization on.

<Steps>
  <Step title="Personalize an index">
    Go to the AI Personalization dashboard [**Configuration**](https://dashboard.algolia.com/ai-personalization/configuration/indices) page, and click the **Personalize an index** button.

    <Frame caption="Button to personalize an index">
      ![Button to personalize an index](/images/personalization/personalize-index-button.png)
    </Frame>
  </Step>
  <Step title="Select primary index or replica">
    Select either a primary index or one of its replicas from the drop-down menu.

    AI Personalization doesn't support personalizing both an index and its replicas at the same time.
    When you personalize a primary index, its affinities and event mappings will automatically apply to all of its replicas, and vice versa.

    <Frame caption="Dashboard interface to select the index to personalize">
      ![Dashboard interface to select the index to personalize](/images/personalization/configure-indices-select-index.png)
    </Frame>
  </Step>
</Steps>

## Select the attributes for affinities

To personalize the search experience, AI Personalization needs to know which facet attributes to use as affinities.
In the **Affinities** input, add all the relevant facet attributes you want to use for personalization.

For example, if you're running an ecommerce website, relevant facet attributes to select might include category, color, gender, and size.

<Frame caption="Dashboard interface to select the facets for affinities">
  ![Dashboard interface to select the facets for affinities](/images/personalization/configure-indices-select-affinities.png)
</Frame>

When selecting attributes as affinities you should consider the following:

- **AI Personalization relies on facet attributes.** Make sure to add the attributes to use as affinities in the [Attributes for faceting](https://dashboard.algolia.com/explorer/configuration/facets/) index configuration in the Algolia dashboard.

- **AI Personalization supports dot notation in facet attribute names.** This is useful when selecting nested facet attributes as affinities for personalization.

- **AI Personalization doesn't support the `filterOnly` modifier for facet attributes,** since users won't interact with these attributes. They're used for [filtering, not faceting](/guides/managing-results/refine-results/faceting/#difference-between-filters-and-facets).

## Next steps

Once you've set up the indices to personalize, you must [define the events collection strategy](/guides/personalization/ai-personalization/configure/events) to improve the accuracy of user signals.

## Further reading

<CardGroup cols={2}>
  <Card title="REST API" icon="gear" href="https://www.algolia.com/doc/rest-api/ai-personalization/#tag/config/operation/putConfig" horizontal="true">
    Update the configuration with the AI Personalization REST API
  </Card>
</CardGroup>
