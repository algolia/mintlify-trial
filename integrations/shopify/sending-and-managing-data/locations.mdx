---
title: Inventory location indexing
description: |-
  Index product quantities by Shopify location.
---

{/* prettier-ignore-start */}

<Info>
  Support for Shopify Locations is a **beta feature** according to [Algolia's Terms of Service ("Beta Services")](https://www.algolia.com/policies/terms)
</Info>

{/* prettier-ignore-end */}

[Shopify Locations](https://help.shopify.com/en/manual/locations) is a feature to track inventory quantities by physical locations.
A location can be any place where you change inventory quantities, such as retail stores or warehouses.

Indexing locations and their inventory quantities with Algolia lets you use location-based features, such as searching and filtering by location or BOPIS (buy online, pick up in store).

## Turn on inventory location indexing

Make sure your store is set up with more than one location on Shopify.
This results in additional API requests to Shopify,
which can delay indexing if Shopify imposes rate limits on these requests.

To turn on inventory location indexing:

1. In your Shopify admin, open the Algolia AI Search & Discovery app.

1. Go to the **Indexing** tab.

1. In the **Products** section, select **Index inventory locations (BETA)** and click **Save**.
   This triggers a product reindexing.

   ![Update product indexing settings in the Algolia AI Search & Discovery app](/doc/assets/images/integrations/shopify/sending-and-managing-data/6-locations-products-indexing-85374bbb.jpeg)

   {/* prettier-ignore-start */}

   <Note>
     You might need to update your store permissions before you can enable
     locations indexing. If you see a message with a request for additional read
     access permissions, click **Update Store Permissions**.
   </Note>

   {/* prettier-ignore-end */}

   ![Additional permissions required to enable locations indexing](/doc/assets/images/integrations/shopify/sending-and-managing-data/7-locations-update-permissions-69327b97.jpeg)

1. When the reindex is complete, check your products records for the new `locations_inventory` attribute.

## Schema

Inventory locations are added as individual key-value pairs to the `locations_inventory` attribute for each product record. The key is the location ID (auto-generated by Shopify), and the value is the inventory quantity at that location.

The following example shows the `location_inventory` attribute with three locations:

```jsoncjsonc
{
  // ...
  locations_inventory: {
    "123456789": 10,
    "987654321": 5,
    "123123123": 0
  }
}
```

## Next steps

To share feedback about this beta feature,
send an [email](mailto:support+shopify@algolia.com) or join the [Community](https://disourse.algolia.com/tag/shopify).
